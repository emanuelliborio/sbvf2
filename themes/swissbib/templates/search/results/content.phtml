<?php

	/** @var \VuFind\Search\Solr\Results	$results  */
	$results	= $this->results;
	/** @var \VuFind\Search\Solr\Params		$params  */
	$params		= $this->params;

	$recordTotal= $results->getResultTotal();
	$lookFor	= $params->getDisplayQuery();
	$view		= $results->getParams()->getView();

?>
<div>

	<h1>
		<?=$this->number($recordTotal)?> Treffer f√ºr ihre Suchanfrage
		<cite><?=$this->escapeHtml($lookFor)?></cite>
	</h1>

	<?php if($recordTotal): ?>
		<!-- begin: tools -->
		<div class="tools floatbox">
			<!-- sort -->
			<h3 class="hidden">Einstellungen Suchresultat Anzeige</h3>
			<?=$this->render('search/controls/sort.phtml')?>
			<!-- display -->
			<?=$this->render('search/controls/limit.phtml')?>
			<!-- paging -->
			<?=$this->paginationControl($results->getPaginator(), 'Sliding', 'search/pagination.phtml', array('results' => $this->results))?>
		</div>
		<!-- end: tools -->
	<?php endif; ?>

	<? if ($activeTabKey === 'summon'): ?>
		<!-- Summons Database Recommendations -->
		<?	/** @var	\VuFind\Search\Summon\Results	$results */
		$summonDatabases = $results->getDatabaseRecommendations(); if (!empty($summonDatabases)): ?>
		<?php if(count($summonDatabases)>0): ?>
			<div class="authorbox summondbrecommendations">
			  <h3><?=$this->transEsc('summon_database_recommendations')?></h3>
			  <? foreach ($summonDatabases as $current): ?>
				<p>
					<a href="<?=$this->escapeHtml($current['link'])?>"><?=$this->escapeHtml($current['title'])?></a><br/>
					<?=$this->escapeHtml($current['description'])?>
				</p>
			  <? endforeach; ?>
			</div>
		<? endif; ?>
	<? endif; ?>

	<!-- data -->
	<?=$this->render('search/list-' . $view . '.phtml')?>

	<?php endif; ?>

	<?php if($recordTotal): ?>
		<!-- begin: tools -->
		<div class="tools floatbox">
			<!-- paging -->
			<?=$this->partial('search/controls/view.phtml')?>
		</div><!-- end: tools -->
	<?php endif; ?>

</div>