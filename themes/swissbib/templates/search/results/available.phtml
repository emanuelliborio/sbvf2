<?php

/** @var    \Swissbib\RecordDriver\SolrMarc $driver */
$institutions = $driver->getInstitutions();
$institutions = $this->filterUntranslatedInstitutions($institutions);
$amountHoldings = sizeof($institutions);

?>
<? if ($amountHoldings === 0): ?>
    <? $retval = $this->noHolding($driver) ?>
    <? if (in_array('RETROS', $retval['unions'])): ?>
        <a class="linkbutton primary icon_link_primary" href="<?= $retval['urls'][1]['url'] ?>" target="_blank"><span>retro.seals</span></a>
    <? else: ?>
        <a class="linkbutton primary icon_link_primary" href="<?= $retval['urls'][0]['url'] ?>"
           target="_blank"><span><?= $this->transEsc('online') ?></span></a>
    <? endif; ?>
<? elseif ($amountHoldings === 1): ?>
    <p>1 <?= $this->transEsc('result.library') ?>
    </p>
<? else: ?>
    <p><?= $amountHoldings ?> <?= $this->transEsc('result.libraries') ?>
    </p>
<? endif; ?>
