<?php

/** @var	\Swissbib\RecordDriver\SolrMarc	$driver */
$institutions	= $driver->getInstitutions();
$institutions	= $this->filterUntranslatedInstitutions($institutions);
$amountHoldings	= sizeof($institutions);

?>
<p>
	<? if ($amountHoldings === 0): ?>
		<? $retval = $this->noHolding($driver) ?>
        <? if (in_array('RETROS', $retval['unions'])): ?>
            <a class="linkbutton primary icon_link_primary" href="<?=$retval['urls'][1]['url']?>" target="_blank"><span>retro.seals</span></a>
        <? else: ?>
            <a class="linkbutton primary icon_link_primary" href="<?=$retval['urls'][0]['url']?>" target="_blank"><span><?= $this->transEsc('online')?></span></a>
        <? endif; ?>
	<? elseif ($amountHoldings === 1): ?>
		1 <?= $this->transEsc('result.library') ?>
	<? else: ?>
		<?= $amountHoldings ?> <?= $this->transEsc('result.libraries') ?>
	<? endif; ?>
</p>